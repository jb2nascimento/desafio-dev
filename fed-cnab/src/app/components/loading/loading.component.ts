import { Component, Input, OnInit } from '@angular/core';
import { LoadingService } from 'src/app/core/services/loading.service';

@Component({
  selector: 'app-loading',
  template: `<div class="spinner" *ngIf="isVisible">
    <img
      src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzhweCIgaGVpZ2h0PSIzNnB4IiB2aWV3Qm94PSIwIDAgMzggMzYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPGRlZnM+DQogICAgICAgIDxwYXRoIGQ9Ik00LDggQzEuNzkxLDggMCw2LjIwOSAwLDQgQzAsMS43OTEgMS43OTEsMCA0LDAgQzYuMjA5LDAgOCwxLjc5MSA4LDQgQzgsNi4yMDkgNi4yMDksOCA0LDggWiIgaWQ9InBhdGgtMSI+PC9wYXRoPg0KICAgICAgICA8cGF0aCBkPSJNMy41LDcgQzEuNTY3LDcgMCw1LjQzMyAwLDMuNSBDMCwxLjU2NyAxLjU2NywwIDMuNSwwIEM1LjQzMywwIDcsMS41NjcgNywzLjUgQzcsNS40MzMgNS40MzMsNyAzLjUsNyBaIiBpZD0icGF0aC0zIj48L3BhdGg+DQogICAgICAgIDxwYXRoIGQ9Ik0yLjM5OTk4MjkyLDUuOTQgQzEuMDMwNTU2MjcsNS42NjIwNzMwNSAwLDQuNDUxNTExMDkgMCwzIEMwLDEuMzQzIDEuMzQzLDAgMywwIEM0LjY1NywwIDYsMS4zNDMgNiwzIEM2LDQuNDUxNTExMDkgNC45Njk0NDM3Myw1LjY2MjA3MzA1IDMuNjAwMDE3MDgsNS45NCBMMi4zOTk5ODI5Miw1Ljk0IEwyLjM5OTk4MjkyLDUuOTQgWiIgaWQ9InBhdGgtNSI+PC9wYXRoPg0KICAgICAgICA8cGF0aCBkPSJNMS45NTI5NTU2NSw0Ljk0IEMwLjgzNTE4NDU4Nyw0LjY5MDYxMzU0IC0xLjc3NjM1Njg0ZS0xNSwzLjY5MzA4MDg0IDAsMi41IEMwLDEuMTE5IDEuMTE5LDAgMi41LDAgQzMuODgxLDAgNSwxLjExOSA1LDIuNSBDNSwzLjY5MzA4MDg0IDQuMTY0ODE1NDEsNC42OTA2MTM1NCAzLjA0NzA0NDM1LDQuOTQgTDEuOTUyOTU1NjUsNC45NCBMMS45NTI5NTU2NSw0Ljk0IFoiIGlkPSJwYXRoLTciPjwvcGF0aD4NCiAgICAgICAgPHBhdGggZD0iTTIsNCBDMC44OTUsNCAwLDMuMTA1IDAsMiBDMCwwLjg5NSAwLjg5NSwwIDIsMCBDMy4xMDUsMCA0LDAuODk1IDQsMiBDNCwzLjEwNSAzLjEwNSw0IDIsNCBaIiBpZD0icGF0aC05Ij48L3BhdGg+DQogICAgICAgIDxwYXRoIGQ9Ik0wLjA2LDEuOTIxMTI2NyBMMC4wNiwxLjA3ODg3MzMgQzAuMjQyMTQ3OTE1LDAuNDU1NjYxMjI2IDAuODE4MTg0NzA4LDAgMS41LDAgQzIuMzI4LDAgMywwLjY3MiAzLDEuNSBDMywyLjMyOCAyLjMyOCwzIDEuNSwzIEMwLjgxODE4NDcwOCwzIDAuMjQyMTQ3OTE1LDIuNTQ0MzM4NzcgMC4wNiwxLjkyMTEyNjcgTDAuMDYsMS45MjExMjY3IFoiIGlkPSJwYXRoLTExIj48L3BhdGg+DQogICAgICAgIDxwYXRoIGQ9Ik0xLjUsMyBDMC42NzIsMyAwLDIuMzI4IDAsMS41IEMwLDAuNjcyIDAuNjcyLDAgMS41LDAgQzIuMzI4LDAgMywwLjY3MiAzLDEuNSBDMywyLjMyOCAyLjMyOCwzIDEuNSwzIFoiIGlkPSJwYXRoLTEzIj48L3BhdGg+DQogICAgICAgIDxwYXRoIGQ9Ik0xLDIgQzAuNDQ4LDIgMCwxLjU1MiAwLDEgQzAsMC40NDggMC40NDgsMCAxLDAgQzEuNTUyLDAgMiwwLjQ0OCAyLDEgQzIsMS41NTIgMS41NTIsMiAxLDIgWiIgaWQ9InBhdGgtMTUiPjwvcGF0aD4NCiAgICAgICAgPHBhdGggZD0iTTAuNSwxIEMwLjIyNCwxIDAsMC43NzYgMCwwLjUgQzAsMC4yMjQgMC4yMjQsMCAwLjUsMCBDMC43NzYsMCAxLDAuMjI0IDEsMC41IEMxLDAuNzc2IDAuNzc2LDEgMC41LDEgWiIgaWQ9InBhdGgtMTciPjwvcGF0aD4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjAxX1NJTVVMQcOHw4NPX0VfQ09NUFJBIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA2LS0tU2VsZWNpb25lLXN1YS1jb3RhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYxLjAwMDAwMCwgLTEyMDAuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0ibG9hZGluZy0tY2xhc3NpYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYxLjAwMDAwMCwgMTIwMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDAwMDAwLCAxMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC0yIj48L2c+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTEiIGZpbGw9IiNERTEyNDYiIG1hc2s9InVybCgjbWFzay0yKSIgcG9pbnRzPSItMC4wNiA4LjAyIDguMSA4LjAyIDguMSAtMC4wMiAtMC4wNiAtMC4wMiI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjguMDAwMDAwLCAyMy4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgZmlsbD0id2hpdGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC01Ij48L2c+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTQiIGZpbGw9IiNERTEyNDYiIG1hc2s9InVybCgjbWFzay00KSIgcG9pbnRzPSItMC4xIDcuMDYgNy4xIDcuMDYgNy4xIC0wLjAyIC0wLjEgLTAuMDIiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyLjAwMDAwMCwgMzAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTYiIGZpbGw9IndoaXRlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtNSI+PC91c2U+DQogICAgICAgICAgICAgICAgICAgIDwvbWFzaz4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNsaXAtOCI+PC9nPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC03IiBmaWxsPSIjREUxMjQ2IiBtYXNrPSJ1cmwoI21hc2stNikiIHBvaW50cz0iLTAuMSA1Ljk0IDYuMDIgNS45NCA2LjAyIC0wLjA2IC0wLjEgLTAuMDYiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDMxLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay04IiBmaWxsPSJ3aGl0ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTciPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICA8L21hc2s+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTExIj48L2c+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTEwIiBmaWxsPSIjREUxMjQ2IiBtYXNrPSJ1cmwoI21hc2stOCkiIHBvaW50cz0iLTAuMDYgNC45NCA1LjEgNC45NCA1LjEgLTAuMSAtMC4wNiAtMC4xIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDI3LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0xMCIgZmlsbD0id2hpdGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC05Ij48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC0xNCI+PC9nPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC0xMyIgZmlsbD0iI0RFMTI0NiIgbWFzaz0idXJsKCNtYXNrLTEwKSIgcG9pbnRzPSItMC4xIDQuMDIgNC4xIDQuMDIgNC4xIC0wLjA2IC0wLjEgLTAuMDYiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTEyIiBmaWxsPSJ3aGl0ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTExIj48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC0xNyI+PC9nPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC0xNiIgZmlsbD0iI0RFMTI0NiIgbWFzaz0idXJsKCNtYXNrLTEyKSIgcG9pbnRzPSIwLjA2IDMuMDIgMy4wNiAzLjAyIDMuMDYgLTAuMSAwLjA2IC0wLjEiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgOS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMTQiIGZpbGw9IndoaXRlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMTMiPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICA8L21hc2s+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIwIj48L2c+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTE5IiBmaWxsPSIjREUxMjQ2IiBtYXNrPSJ1cmwoI21hc2stMTQpIiBwb2ludHM9Ii0wLjEgMy4wNiAzLjAyIDMuMDYgMy4wMiAtMC4wNiAtMC4xIC0wLjA2Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4wMDAwMDAsIDIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTE2IiBmaWxsPSJ3aGl0ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTE1Ij48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC0yMyI+PC9nPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC0yMiIgZmlsbD0iI0RFMTI0NiIgbWFzaz0idXJsKCNtYXNrLTE2KSIgcG9pbnRzPSItMC4wNiAyLjAyIDIuMSAyLjAyIDIuMSAtMC4wMiAtMC4wNiAtMC4wMiI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4LjAwMDAwMCwgMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMTgiIGZpbGw9IndoaXRlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMTciPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICA8L21hc2s+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTI2Ij48L2c+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTI1IiBmaWxsPSIjREUxMjQ2IiBtYXNrPSJ1cmwoI21hc2stMTgpIiBwb2ludHM9Ii0wLjA2IDEuMDIgMS4wMiAxLjAyIDEuMDIgLTAuMDYgLTAuMDYgLTAuMDYiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="
      class="loader"
      alt=""
    />
  </div>`,
  styleUrls: ['./loading.component.scss']
})
export class LoadingComponent implements OnInit {

  constructor(private loadingService: LoadingService) { }

  @Input() isVisible: boolean = false;

  ngOnInit(): void {
    this.loadingService.change.subscribe((isVisible: boolean) => {
      this.isVisible = isVisible;
    });
  }

}
